<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>MASTER ADMIN v4</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
</head>

<body class="bg-gray-100 p-10">
<div class="max-w-7xl mx-auto bg-white p-10 rounded-3xl shadow-xl">

<h1 class="text-3xl font-black italic mb-10">STUDIO ADMIN v4</h1>

<nav class="flex gap-4 mb-10">
<button onclick="tab('products')">Ürünler</button>
<button onclick="tab('slider')">Slider</button>
<button onclick="tab('pages')">Sayfalar</button>
<button onclick="tab('settings')">Ayarlar</button>
</nav>

<!-- PRODUCTS -->
<div id="products" class="tab">
<h2 class="font-bold mb-4">Ürün Ekle / Düzenle</h2>

<input id="pTitle" placeholder="Ürün Adı">
<input id="pPrice" placeholder="Fiyat">
<input id="pSlug" placeholder="Gumroad Slug">
<input id="pImg" placeholder="Görsel URL">
<textarea id="pDesc" placeholder="Ürün Açıklaması"></textarea>
<textarea id="pSeo" placeholder="SEO Açıklaması (Google için)"></textarea>

<select id="pCat"></select>

<label class="flex gap-2 items-center">
<input type="checkbox" id="pFeatured"> Featured (Slider)
</label>

<button onclick="saveProduct()">Kaydet</button>
<div id="productList" class="mt-10"></div>
</div>

<!-- SLIDER -->
<div id="slider" class="tab hidden">
<h2 class="font-bold mb-4">Slider Yönetimi (min 5)</h2>

<div id="sliderList" class="grid grid-cols-3 gap-4"></div>
</div>

<!-- PAGES -->
<div id="pages" class="tab hidden">
<h2 class="font-bold mb-4">Sayfa & Sitemap</h2>

<input id="pageTitle" placeholder="Sayfa Başlığı">
<input id="pageSlug" placeholder="Slug (contact, blog)">
<textarea id="pageDesc" placeholder="SEO Açıklama"></textarea>

<button onclick="addPage()">Sayfa Ekle</button>
<div id="pageList" class="mt-6"></div>
</div>

<!-- SETTINGS -->
<div id="settings" class="tab hidden">
<h2 class="font-bold mb-4">Site Ayarları</h2>
<input id="setLogo" placeholder="Logo">
<input id="setLogoAccent" placeholder="Logo Accent">
<textarea id="setFooter" placeholder="Footer Yazısı"></textarea>
<button onclick="saveSettings()">Kaydet</button>
</div>

</div>

<script>
firebase.initializeApp({
 apiKey:"AIzaSyDs6JHPSV8UM2uKSSVUA1SNxWGyxAihaII",
 databaseURL:"https://mockup-master-db-default-rtdb.firebaseio.com"
});
const db=firebase.database();

function tab(id){
document.querySelectorAll('.tab').forEach(t=>t.classList.add('hidden'));
document.getElementById(id).classList.remove('hidden');
}

function saveProduct(){
const id=Date.now();
db.ref('products/'+id).set({
 title:pTitle.value,
 price:pPrice.value,
 slug:pSlug.value,
 img:pImg.value,
 desc:pDesc.value,
 seo:pSeo.value,
 cat:pCat.value,
 featured:pFeatured.checked,
 hidden:false
});
}

db.ref('products').on('value',s=>{
const v=s.val()||{};
productList.innerHTML=Object.values(v).map(p=>`
<div class="p-2 bg-gray-100 mb-2">
<b>${p.title}</b> – ${p.price}
</div>`).join('');
});

function addPage(){
db.ref('pages/'+pageSlug.value).set({
 title:pageTitle.value,
 slug:pageSlug.value,
 desc:pageDesc.value,
 indexed:true
});
}

function saveSettings(){
db.ref('settings').set({
 logo:setLogo.value,
 logoAccent:setLogoAccent.value,
 footerDesc:setFooter.value
});
}
</script>
</body>
</html>
